/*! ng-stats 2.0.4 created by Kent C. Dodds | 2015-02-15 */
!function(a,b){"use strict";"function"==typeof define&&define.amd?define(b):"undefined"!=typeof module&&module.exports?module.exports=b:a.showAngularStats=b()}(window,function(){"use strict";function a(a){if(Object.getPrototypeOf)return Object.getPrototypeOf(a);var b=a.__proto__;return b||null===b?b:a.constructor?a.constructor.prototype:Object.prototype}function b(){if(!z){z=!0;var b=e(),c=a(b),d=c.$digest;c.$digest=function(){var a=v();d.apply(this,arguments);var b=v()-a;j(f(),b)}}}function c(a){window.angular&&e()?d(a):window.setTimeout(function(){c(a)},200)}function d(a){function c(b,c,d){var e=b.charAt(0).toUpperCase()+b.slice(1);a["track"+e]&&(f[b]=[],c["track + capThingToTrack"]=function(a){d&&f[b][f.length-1]===a||(f[b][f.length-1]=a,f[b].push(a))})}function d(b,c,d){var f=b.charAt(0).toUpperCase()+b.slice(1);if(a["log"+f]){var g;c["log"+f]=function(a){if(!d||g!==a){g=a;var c=e(b,a);c?console.log("%c"+b+":",c,a):console.log(b+":",a)}}}}function e(b,c){var d;return"digest"===b&&(d=c>a.digestTimeThreshold?"color:red":"color:green"),d}var f={listeners:A};if(u&&(u.active=!1,u=null),a===!1)return void sessionStorage.removeItem(t);a=angular.extend({position:"top-left",digestTimeThreshold:16,autoload:!1,trackDigest:!1,trackWatches:!1,logDigest:!1,logWatches:!1},a||{}),b();u={active:!0};return a.autoload?sessionStorage.setItem(t,JSON.stringify(a)):sessionStorage.removeItem(t),c("digest",A.digestLength),c("watches",A.watchCount,!0),d("digest",A.digestLength),d("watches",A.watchCount,!0),s.$$phase||s.$digest(),f}function e(){if(s)return s;var a=document.querySelector(".ng-scope");return a?s=angular.element(a).scope().$root:null}function f(){window.clearTimeout(x);var a=v();return a-w>300?(w=a,y=l()):x=window.setTimeout(function(){j(f())},350),y}function g(a){var b=h(a);return l(b)}function h(a){a=angular.element(a);var b=a.scope();return b||(a=angular.element(a.querySelector(".ng-scope")),b=a.scope()),b}function i(a){return a&&a.$$watchers?a.$$watchers:[]}function j(a,b){k(a)||angular.forEach(A.watchCount,function(b){b(a)}),k(b)||angular.forEach(A.digestLength,function(a){a(b)})}function k(a){return null===a||void 0===a}function l(a){var b=0;return m(a,function(a){b+=i(a).length}),b}function m(a,b){if("function"==typeof a&&(b=a,a=null),a=a||e(),a=q(a)){var c=b(a);return c===!1?c:o(a,b)}}function n(a,b){for(var c;(a=a.$$nextSibling)&&(c=b(a),c!==!1)&&(c=o(a,b),c!==!1););return c}function o(a,b){for(var c;(a=a.$$childHead)&&(c=b(a),c!==!1)&&(c=n(a,b),c!==!1););return c}function p(a){var b=null;return m(function(c){return c.$id===a?(b=c,!1):void 0}),b}function q(a){return r(a)&&(a=p(a)),a}function r(a){return"string"==typeof a||"number"==typeof a}var s,t="showAngularStats_autoload",u=null,v=window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return Date.now()},w=v(),x=null,y=f()||0,z=!1,A={watchCount:{},digestLength:{}},B=sessionStorage[t];return B&&c(JSON.parse(B)),angular.module("angularStats",[]).directive("angularStats",function(){function a(a){for(var b=a[0];b.parentElement;)b=b.parentElement;return b}var c=1;return{scope:{digestLength:"@",watchCount:"@",watchCountRoot:"@",onDigestLengthUpdate:"&?",onWatchCountUpdate:"&?"},link:function(d,e,f){b();var h=c++;if(f.hasOwnProperty("digestLength")){var i=e;f.digestLength&&(i=angular.element(e[0].querySelector(f.digestLength))),A.digestLength["ngStatsDirective"+h]=function(a){i.text((a||0).toFixed(2))}}if(f.hasOwnProperty("watchCount")){var j,k=e;if(d.watchCount&&(k=angular.element(e[0].querySelector(f.watchCount))),d.watchCountRoot)if("this"===d.watchCountRoot)j=e;else{var l;if(l=f.hasOwnProperty("watchCountOfChild")?e[0]:a(e),j=angular.element(l.querySelector(d.watchCountRoot)),!j.length)throw new Error("no element at selector: "+d.watchCountRoot)}A.watchCount["ngStatsDirective"+h]=function(a){var b=a;j&&(b=g(j)),k.text(b)}}d.onWatchCountUpdate&&(A.watchCount["ngStatsDirectiveUpdate"+h]=function(a){d.onWatchCountUpdate({watchCount:a})}),d.onDigestLengthUpdate&&(A.digestLength["ngStatsDirectiveUpdate"+h]=function(a){d.onDigestLengthUpdate({digestLength:a})}),d.$on("$destroy",function(){delete A.digestLength["ngStatsDirectiveUpdate"+h],delete A.watchCount["ngStatsDirectiveUpdate"+h],delete A.digestLength["ngStatsDirective"+h],delete A.watchCount["ngStatsDirective"+h]})}}}),d});